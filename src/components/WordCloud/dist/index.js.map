{"version":3,"file":"index.js","sources":["../src/wordcloud2.js","../node_modules/.pnpm/randomcolor@0.6.2/node_modules/randomcolor/randomColor.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js","../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/throttle.js","../src/index.js","../src/text-mask.js","../src/apply-mask.js","../src/observe-resize.js"],"sourcesContent":["/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.\n * Released under the MIT license\n */\n\n'use strict'\n\nif (typeof window !== 'undefined') {\n  // setImmediate\n  if (!window.setImmediate) {\n    window.setImmediate = (function setupSetImmediate() {\n      return window.msSetImmediate ||\n        window.webkitSetImmediate ||\n        window.mozSetImmediate ||\n        window.oSetImmediate ||\n        (function setupSetZeroTimeout() {\n          if (!window.postMessage || !window.addEventListener) {\n            return null\n          }\n\n          let callbacks = [undefined]\n          let message = 'zero-timeout-message'\n\n          // Like setTimeout, but only takes a function argument.  There's\n          // no time argument (always zero) and no arguments (you have to\n          // use a closure).\n          let setZeroTimeout = function setZeroTimeout(callback) {\n            let id = callbacks.length\n            callbacks.push(callback)\n            window.postMessage(message + id.toString(36), '*')\n\n            return id\n          }\n\n          window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n            // Skipping checking event source, retarded IE confused this window\n            // object with another in the presence of iframe\n            if (typeof evt.data !== 'string' ||\n              evt.data.substr(0, message.length) !== message/* ||\n            evt.source !== window */) {\n              return\n            }\n\n            evt.stopImmediatePropagation()\n\n            let id = parseInt(evt.data.substr(message.length), 36)\n            if (!callbacks[id]) {\n              return\n            }\n\n            callbacks[id]()\n            callbacks[id] = undefined\n          }, true)\n\n          /* specify clearImmediate() here since we need the scope */\n          window.clearImmediate = function clearZeroTimeout(id) {\n            if (!callbacks[id]) {\n              return\n            }\n\n            callbacks[id] = undefined\n          }\n\n          return setZeroTimeout\n        })() ||\n        // fallback\n        function setImmediateFallback(fn) {\n          window.setTimeout(fn, 0)\n        }\n    })()\n  }\n\n  if (!window.clearImmediate) {\n    window.clearImmediate = (function setupClearImmediate() {\n      return window.msClearImmediate ||\n        window.webkitClearImmediate ||\n        window.mozClearImmediate ||\n        window.oClearImmediate ||\n        // \"clearZeroTimeout\" is implement on the previous block ||\n        // fallback\n        function clearImmediateFallback(timer) {\n          window.clearTimeout(timer)\n        }\n    })()\n  }\n\n  // Check if WordCloud can run on this browser\n  Object.defineProperty(window, 'isSupported', {\n    get() {\n      return (function isSupported() {\n        let canvas = document.createElement('canvas')\n        if (!canvas || !canvas.getContext) {\n          return false\n        }\n\n        let ctx = canvas.getContext('2d')\n        if (!ctx) {\n          return false\n        }\n        if (!ctx.getImageData) {\n          return false\n        }\n        if (!ctx.fillText) {\n          return false\n        }\n\n        if (!Array.prototype.some) {\n          return false\n        }\n        if (!Array.prototype.push) {\n          return false\n        }\n\n        return true\n      }())\n    }\n  })\n}\n\nexport default function WordCloud(elements, options) {\n  // polyfill\n  let timer = {};\n\n  if (!window.isSupported) {\n    return\n  }\n\n  let timerId = Math.floor(Math.random() * Date.now())\n\n  if (!Array.isArray(elements)) {\n    elements = [elements]\n  }\n\n  elements.forEach(function (el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el)\n      if (!elements[i]) {\n        throw new Error('The element id specified is not found.')\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw new Error('You must pass valid HTML elements, or ID of the element.')\n    }\n  })\n\n  /* Default values to be overwritten by options object */\n  let settings = {\n    list: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' +\n      '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n    minSize: 0, // 0 to disable\n    weightFactor: 1,\n    clearCanvas: true,\n    backgroundColor: '#fff', // opaque white = rgba(255, 255, 255, 1)\n\n    gridSize: 8,\n    drawOutOfBound: false,\n    shrinkToFit: false,\n    origin: null,\n\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n\n    wait: 0,\n    abortThreshold: 0, // disabled\n    abort: function noop() {\n    },\n\n    shape: 'circle',\n    ellipticity: 0.65,\n\n    createElement: options.createElement ?? ((item) => document.createElement('a'))\n  }\n\n  if (options) {\n    for (let key in options) {\n      if (key in settings) {\n        settings[key] = options[key]\n      }\n    }\n  }\n\n  /* Convert weightFactor into a function */\n  if (typeof settings.weightFactor !== 'function') {\n    let factor = settings.weightFactor\n    settings.weightFactor = function weightFactor(pt) {\n      return pt * factor // in px\n    }\n  }\n\n  /* Convert shape into a function */\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n      default:\n          // 'circle' is the default and a shortcut in the code loop.\n          settings.shape = 'circle'\n          break\n\n        case 'square':\n          // http://www.wolframalpha.com/input/?i=plot+r+%3D+min(1%2Fabs(cos(t\n          // )),1%2Fabs(sin(t)))),+t+%3D+0+..+2*PI\n          settings.shape = function shapeSquare(theta) {\n            return Math.min(\n              1 / Math.abs(Math.cos(theta)),\n              1 / Math.abs(Math.sin(theta))\n            )\n          }\n          break\n    }\n  }\n\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4)\n\n  /* shorthand */\n  let g = settings.gridSize\n  let maskRectWidth = g - settings.maskGapWidth\n\n  /* information/object available to all functions, set when start() */\n  let grid, // 2d array containing filling information\n    ngx, ngy, // width and height of the grid\n    center, // position of the center of the cloud\n    maxRadius\n\n  /* timestamp for measuring each putWord() action */\n  let escapeTime\n\n  /* function for getting the color of the text */\n  let getTextColor\n  if (typeof settings.color === 'function') {\n    getTextColor = settings.color\n  }\n\n  /* function for getting the font-weight of the text */\n  let getTextFontWeight\n  if (typeof settings.fontWeight === 'function') {\n    getTextFontWeight = settings.fontWeight\n  }\n\n  /* Get points on the grid for a given radius away from the center */\n  let pointsAtRadius = []\n  let getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius]\n    }\n\n    // Look for these number of points on each radius\n    let T = radius * 8\n\n    // Getting all the points at this radius\n    let t = T\n    let points = []\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0])\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      let rx = 1\n      if (settings.shape !== 'circle') {\n        rx = settings.shape(t / T * 2 * Math.PI) // 0 to 1\n      }\n\n      // Push [x, y, t] t is used solely for getTextColor()\n      points.push([\n        center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI),\n        center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) *\n        settings.ellipticity,\n        t / T * 2 * Math.PI])\n    }\n\n    pointsAtRadius[radius] = points\n    return points\n  }\n\n  /* Return true if we had spent too much time */\n  let exceedTime = function exceedTime() {\n    return ((settings.abortThreshold > 0) &&\n      ((new Date()).getTime() - escapeTime > settings.abortThreshold))\n  }\n\n  // djagger: do not create canvas every time, clear reused on instead.\n  const reusedFcanvas = document.createElement('canvas')\n  const reusedFctx = reusedFcanvas.getContext('2d', {willReadFrequently: true})\n\n  function getCanvasAndCtx(debug) {\n    if (debug) {\n      const fcanvas = document.createElement('canvas')\n      const fctx = fcanvas.getContext('2d', {willReadFrequently: true})\n      fcanvas.style.marginLeft = '8px'\n      return {fcanvas, fctx}\n    } else {\n      reusedFctx.setTransform(1, 0, 0, 1, 0, 0);\n      reusedFctx.clearRect(0, 0, reusedFcanvas.width, reusedFcanvas.height)\n      return {fcanvas: reusedFcanvas, fctx: reusedFctx}\n    }\n  }\n\n  let getTextInfo = function getTextInfo(word, weight) {\n    // calculate the acutal font size\n    // fontSize === 0 means weightFactor function wants the text skipped,\n    // and size < minSize means we cannot draw the text.\n    let debug = false\n    let fontSize = settings.weightFactor(weight)\n    if (fontSize <= settings.minSize) {\n      return false\n    }\n\n    // Get fontWeight that will be used to set fctx.font\n    let fontWeight\n    if (getTextFontWeight) {\n      fontWeight = getTextFontWeight(word, weight, fontSize)\n    } else {\n      fontWeight = settings.fontWeight\n    }\n\n    const {fcanvas, fctx} = getCanvasAndCtx(debug)\n\n    fctx.font = `${fontWeight} ${fontSize.toString(10)}px ${settings.fontFamily}`\n\n    // Estimate the dimension of the text with measureText().\n    let fw = fctx.measureText(word).width\n    let fh = Math.max(fontSize,\n      fctx.measureText('m').width,\n      fctx.measureText('\\uFF37').width\n    )\n\n    // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it still might)\n    let boxWidth = fw + fh * 2\n    let boxHeight = fh * 3\n    let fgw = Math.ceil(boxWidth / g)\n    let fgh = Math.ceil(boxHeight / g)\n\n    // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n\n    // This is simply half of the width.\n    const fillTextOffsetX = -fw / 2\n\n    // djagger: remove this feature\n    // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n    const fillTextOffsetY = -fh / 2\n\n    // Calculate the actual dimension of the canvas, considering the rotation.\n    let cgw = fgw\n    let cgh = fgh\n    let width = cgw * g\n    let height = cgh * g\n\n    fcanvas.width = width\n    fcanvas.height = height\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas)\n      // Save it's state so that we could restore and draw the grid correctly.\n      fctx.save()\n    }\n\n    // Scale the canvas with |mu| (removed).\n    fctx.scale(1, 1)\n    fctx.translate(width / 2, height / 2)\n\n    // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n    fctx.font = `${fontWeight} ${(fontSize).toString(10)}px ${settings.fontFamily}`\n\n    // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n    fctx.fillStyle = '#000'\n    fctx.textBaseline = 'middle'\n    fctx.fillText(word,\n      fillTextOffsetX,\n      (fillTextOffsetY + fontSize * 0.4) /* djagger: make the latin char align center vertically*/\n    )\n\n    // Get the pixels of the text\n    let imageData = fctx.getImageData(0, 0, width, height).data\n\n    if (exceedTime()) {\n      return false\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeStyle = 'rgba(255,0,0, 1)'\n      fctx.strokeRect(\n        fillTextOffsetX,\n        fillTextOffsetY, fw, fh\n      )\n      fctx.restore()\n    }\n\n    // TODO: could be optimize in wasm\n    //       input: imageData (uint32 array), fctx\n    //       output: occupied array (2x int array), bounds\n    // Read the pixels and save the information to the occupied array\n    // djagger: turns into two array for x and y\n    let occupied = [[], []]\n    let gx = cgw\n    let gy, x, y\n    let bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2]\n    while (gx--) {\n      gy = cgh\n      while (gy--) {\n        y = g\n        /* eslint no-labels: [\"error\", { \"allowLoop\": true }] */\n        singleGridLoop: while (y--) {\n          const ggx = gx * g\n          const ggy = gy * g\n          x = g\n\n          // reduce computing times\n          let pos = ((ggy + y) * width + (ggx + x)) * 4 + 3\n          while (x--) {\n            if (imageData[pos]) {\n              occupied[0].push(gx)\n              occupied[1].push(gy)\n\n              bounds[3] = Math.min(bounds[3], gx)\n              bounds[1] = Math.max(bounds[1], gx)\n              bounds[0] = Math.min(bounds[0], gy)\n              bounds[2] = Math.max(bounds[2], gy)\n\n              if (debug) {\n                fctx.fillStyle = 'rgba(255, 0, 0, 0.5)'\n                fctx.fillRect(ggx, ggy, g - 0.5, g - 0.5)\n              }\n              break singleGridLoop\n            }\n            pos -= 4\n          }\n        }\n        if (debug) {\n          fctx.fillStyle = 'rgba(0, 0, 255, 0.5)'\n          fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5)\n        }\n      }\n    }\n    // till here\n\n    if (debug) {\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)'\n      fctx.fillRect(\n        bounds[3] * g,\n        bounds[0] * g,\n        (bounds[1] - bounds[3] + 1) * g,\n        (bounds[2] - bounds[0] + 1) * g\n      )\n    }\n\n    // Return information needed to create the text on the real canvas\n    return {\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize\n    }\n  }\n\n  /* Determine if there is room available in the given dimension */\n  let canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    let i = occupied[0].length\n    while (i--) {\n      let px = gx + occupied[0][i]\n      let py = gy + occupied[1][i]\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false\n        }\n        continue\n      }\n\n      if (!grid[px][py]) {\n        return false\n      }\n    }\n    return true\n  }\n\n  /* Actually draw the text on the grid */\n  let drawText = function drawText(gx, gy, info, word, weight, distance, theta, attributes, item) {\n    let fontSize = info.fontSize\n    let color\n    if (getTextColor) {\n      color = getTextColor(word, weight, fontSize, distance, theta)\n    } else {\n      color = settings.color\n    }\n\n    // get fontWeight that will be used to set ctx.font and font style rule\n    let fontWeight\n    if (getTextFontWeight) {\n      fontWeight = getTextFontWeight(word, weight, fontSize)\n    } else {\n      fontWeight = settings.fontWeight\n    }\n\n    const el = elements[1]\n\n    // drawText on DIV element\n    const span = settings.createElement(item)\n\n    const transformRules = {}\n\n    let size = (fontSize)\n    if (size < 12) {\n      transformRules.scale = size / 12\n    }\n    let transformRule = transformRules.scale ? ` scale(${transformRules.scale})` : ''\n    let styleRules = {\n      font: `${fontWeight} ${Math.max(12, size)}px ${settings.fontFamily}`,\n      left: ((gx + info.gw / 2) * g + info.fillTextOffsetX) + 'px',\n      top: ((gy + info.gh / 2) * g + info.fillTextOffsetY) + 'px',\n      width: info.fillTextWidth + 'px',\n      height: info.fillTextHeight + 'px',\n      'line-height': Math.max(fontSize, 12) + 'px',\n      transform: transformRule,\n      '-webkit-transform': transformRule,\n      '-ms-transform': transformRule,\n    }\n    if (color) {\n      styleRules.color = color\n    }\n    span.textContent = word\n    // https://stackoverflow.com/questions/4207505/is-there-a-way-to-apply-multiple-css-styles-in-a-batch-to-avoid-multiple-reflows\n    const css = Object.entries(styleRules).map(([name, value]) => `${name}: ${value};`).join(' ')\n    span.style.cssText += ' ' + css\n    el.appendChild(span)\n  }\n\n  /* Help function to updateGrid */\n  let fillGridAt = function fillGridAt(x, y, drawMask, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return\n    }\n\n    grid[x][y] = false\n\n    if (drawMask) {\n      let ctx = elements[0].getContext('2d')\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth)\n    }\n\n  }\n\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n  let updateGrid = function updateGrid(gx, gy, gw, gh, info, item) {\n    let occupied = info.occupied\n    let drawMask = settings.drawMask\n    let ctx\n    if (drawMask) {\n      ctx = elements[0].getContext('2d')\n      ctx.save()\n      ctx.fillStyle = settings.maskColor\n    }\n\n    let i = occupied[0].length\n    while (i--) {\n      let px = gx + occupied[0][i]\n      let py = gy + occupied[1][i]\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue\n      }\n\n      fillGridAt(px, py, drawMask, item)\n    }\n\n    if (drawMask) {\n      ctx.restore()\n    }\n  }\n\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n  let putWord = function putWord(item) {\n    let word, weight, attributes\n    if (Array.isArray(item)) {\n      word = item[0]\n      weight = item[1]\n    } else {\n      word = item.word\n      weight = item.weight\n      attributes = item.attributes\n    }\n\n    // get info needed to put the text onto the canvas\n    let info = getTextInfo(word, weight)\n\n    // not getting the info means we shouldn't be drawing this one.\n    if (!info) {\n      return false\n    }\n\n    if (exceedTime()) {\n      return false\n    }\n\n    // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n    if (!settings.drawOutOfBound && !settings.shrinkToFit) {\n      let bounds = info.bounds;\n      if ((bounds[1] - bounds[3] + 1) > ngx ||\n        (bounds[2] - bounds[0] + 1) > ngy) {\n        return false\n      }\n    }\n\n    // Determine the position to put the text by\n    // start looking for the nearest points\n    let r = maxRadius + 1\n\n    let tryToPutWordAtPoint = function (gxy) {\n      let gx = Math.floor(gxy[0] - info.gw / 2)\n      let gy = Math.floor(gxy[1] - info.gh / 2)\n      let gw = info.gw\n      let gh = info.gh\n\n      // If we cannot fit the text at this position, return false\n      // and go to the next position.\n      if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n        return false\n      }\n\n      // Actually put the text on the canvas\n      drawText(gx, gy, info, word, weight, (maxRadius - r), gxy[2], attributes, item)\n\n      // Mark the spaces on the grid as filled\n      updateGrid(gx, gy, gw, gh, info, item)\n\n      // Return true so some() will stop and also return true.\n      return true\n    }\n\n      while (r--) {\n        let points = getPointsAtRadius(maxRadius - r)\n\n        // Try to fit the words by looking at each point.\n        // array.some() will stop and return true\n        // when putWordAtPoint() returns true.\n        // If all the points returns false, array.some() returns false.\n        let drawn = points.some(tryToPutWordAtPoint)\n\n        if (drawn) {\n          // leave putWord() and return true\n          return true\n        }\n      }\n    if (settings.shrinkToFit) {\n      if (Array.isArray(item)) {\n        item[1] = item[1] * 3 / 4\n      } else {\n        item.weight = item.weight * 3 / 4\n      }\n      return putWord(item)\n    }\n    // we tried all distances but text won't fit, return false\n    return false\n  }\n\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n  let sendEvent = function sendEvent(type, cancelable, details) {\n    if (cancelable) {\n      return !elements.some(function (el) {\n        let event = new CustomEvent(type, {\n          detail: details || {}\n        })\n        return !el.dispatchEvent(event)\n      }, this)\n    } else {\n      elements.forEach(function (el) {\n        let event = new CustomEvent(type, {\n          detail: details || {}\n        })\n        el.dispatchEvent(event)\n      }, this)\n    }\n  }\n\n  /* Start drawing on a canvas */\n  this.start = function start() {\n    // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n    let canvas = elements[0]\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g)\n      ngy = Math.ceil(canvas.height / g)\n    } else {\n      let rect = canvas.getBoundingClientRect()\n      ngx = Math.ceil(rect.width / g)\n      ngy = Math.ceil(rect.height / g)\n    }\n\n    // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n    if (!sendEvent('wordcloudstart', true)) {\n      return\n    }\n\n    // Determine the center of the word cloud\n    center = (settings.origin)\n      ? [settings.origin[0] / g, settings.origin[1] / g]\n      : [ngx / 2, ngy / 2]\n\n    // Maxium radius to look for space\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy))\n\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n    grid = []\n\n    let gx, gy, i\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function (el) {\n        if (el.getContext) {\n          let ctx = el.getContext('2d')\n          ctx.fillStyle = settings.backgroundColor\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1))\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1))\n        } else {\n          el.textContent = ''\n          el.style.backgroundColor = settings.backgroundColor\n          el.style.position = 'relative'\n        }\n      })\n\n      /* fill the grid with empty state */\n      gx = ngx\n      while (gx--) {\n        grid[gx] = []\n        gy = ngy\n        while (gy--) {\n          grid[gx][gy] = true\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      let bctx = document.createElement('canvas').getContext('2d')\n\n      bctx.fillStyle = settings.backgroundColor\n      bctx.fillRect(0, 0, 1, 1)\n      let bgPixel = bctx.getImageData(0, 0, 1, 1).data\n\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n      let imageData =\n        canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data\n\n      gx = ngx\n      let x, y\n      while (gx--) {\n        grid[gx] = []\n        gy = ngy\n        while (gy--) {\n          y = g\n          /* eslint no-labels: [\"error\", { \"allowLoop\": true }] */\n          singleGridLoop: while (y--) {\n            x = g\n            while (x--) {\n              i = 4\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g +\n                  (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false\n                  break singleGridLoop\n                }\n              }\n            }\n          }\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined\n    }\n\n    i = 0\n    let loopingFunction, stoppingFunction\n    if (settings.wait !== 0) {\n      loopingFunction = window.setTimeout\n      stoppingFunction = window.clearTimeout\n    } else {\n      loopingFunction = window.setImmediate\n      stoppingFunction = window.clearImmediate\n    }\n\n    let addEventListener = function addEventListener(type, listener) {\n      elements.forEach(function (el) {\n        el.addEventListener(type, listener)\n      }, this)\n    }\n\n    let removeEventListener = function removeEventListener(type, listener) {\n      elements.forEach(function (el) {\n        el.removeEventListener(type, listener)\n      }, this)\n    }\n\n    let anotherWordCloudStart = function anotherWordCloudStart() {\n      removeEventListener('wordcloudstart', anotherWordCloudStart)\n      stoppingFunction(timer[timerId])\n    }\n\n    addEventListener('wordcloudstart', anotherWordCloudStart)\n    timer[timerId] = loopingFunction(function loop() {\n      if (i >= settings.list.length) {\n        stoppingFunction(timer[timerId])\n        sendEvent('wordcloudstop', false)\n        removeEventListener('wordcloudstart', anotherWordCloudStart)\n        delete timer[timerId];\n        return\n      }\n      escapeTime = (new Date()).getTime()\n      let drawn = putWord(settings.list[i])\n      let canceled = !sendEvent('wordclouddrawn', true, {\n        item: settings.list[i],\n        drawn: drawn\n      })\n      if (exceedTime() || canceled) {\n        stoppingFunction(timer[timerId])\n        settings.abort()\n        sendEvent('wordcloudabort', false)\n        sendEvent('wordcloudstop', false)\n        removeEventListener('wordcloudstart', anotherWordCloudStart)\n        delete timer[timerId]\n        return\n      }\n      i++\n      timer[timerId] = loopingFunction(loop, settings.wait)\n    }, settings.wait)\n  }\n\n  this.stop = function stop() {\n    if (timer) {\n      for (let timerId in timer) {\n        window.clearImmediate(timer[timerId])\n      }\n    }\n  }\n}\n","// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\n\n;(function(root, factory) {\n\n  // Support CommonJS\n  if (typeof exports === 'object') {\n    var randomColor = factory();\n\n    // Support NodeJS & Component, which allow module.exports to be a function\n    if (typeof module === 'object' && module && module.exports) {\n      exports = module.exports = randomColor;\n    }\n\n    // Support CommonJS 1.1.1 spec\n    exports.randomColor = randomColor;\n\n  // Support AMD\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory);\n\n  // Support vanilla script loading\n  } else {\n    root.randomColor = factory();\n  }\n\n}(this, function() {\n\n  // Seed to get repeatable colors\n  var seed = null;\n\n  // Shared color dictionary\n  var colorDictionary = {};\n\n  // Populate the color dictionary\n  loadColorBounds();\n\n  // check if a range is taken\n  var colorRanges = [];\n\n  var randomColor = function (options) {\n\n    options = options || {};\n\n    // Check if there is a seed and ensure it's an\n    // integer. Otherwise, reset the seed value.\n    if (options.seed !== undefined && options.seed !== null && options.seed === parseInt(options.seed, 10)) {\n      seed = options.seed;\n\n    // A string was passed as a seed\n    } else if (typeof options.seed === 'string') {\n      seed = stringToInteger(options.seed);\n\n    // Something was passed as a seed but it wasn't an integer or string\n    } else if (options.seed !== undefined && options.seed !== null) {\n      throw new TypeError('The seed value must be an integer or string');\n\n    // No seed, reset the value outside.\n    } else {\n      seed = null;\n    }\n\n    var H,S,B;\n\n    // Check if we need to generate multiple colors\n    if (options.count !== null && options.count !== undefined) {\n\n      var totalColors = options.count,\n          colors = [];\n      // Value false at index i means the range i is not taken yet.\n      for (var i = 0; i < options.count; i++) {\n        colorRanges.push(false)\n        }\n      options.count = null;\n\n      while (totalColors > colors.length) {\n\n        var color = randomColor(options);\n\n        if (seed !== null) {\n          options.seed = seed;\n        }\n\n        colors.push(color);\n      }\n\n      options.count = totalColors;\n\n      return colors;\n    }\n\n    // First we pick a hue (H)\n    H = pickHue(options);\n\n    // Then use H to determine saturation (S)\n    S = pickSaturation(H, options);\n\n    // Then use S and H to determine brightness (B).\n    B = pickBrightness(H, S, options);\n\n    // Then we return the HSB color in the desired format\n    return setFormat([H,S,B], options);\n  };\n\n  function pickHue(options) {\n    if (colorRanges.length > 0) {\n      var hueRange = getRealHueRange(options.hue)\n\n      var hue = randomWithin(hueRange)\n\n      //Each of colorRanges.length ranges has a length equal approximatelly one step\n      var step = (hueRange[1] - hueRange[0]) / colorRanges.length\n\n      var j = parseInt((hue - hueRange[0]) / step)\n\n      //Check if the range j is taken\n      if (colorRanges[j] === true) {\n        j = (j + 2) % colorRanges.length\n      }\n      else {\n        colorRanges[j] = true\n           }\n\n      var min = (hueRange[0] + j * step) % 359,\n          max = (hueRange[0] + (j + 1) * step) % 359;\n\n      hueRange = [min, max]\n\n      hue = randomWithin(hueRange)\n\n      if (hue < 0) {hue = 360 + hue;}\n      return hue\n    }\n    else {\n      var hueRange = getHueRange(options.hue)\n\n      hue = randomWithin(hueRange);\n      // Instead of storing red as two seperate ranges,\n      // we group them, using negative numbers\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    }\n  }\n\n  function pickSaturation (hue, options) {\n\n    if (options.hue === 'monochrome') {\n      return 0;\n    }\n\n    if (options.luminosity === 'random') {\n      return randomWithin([0,100]);\n    }\n\n    var saturationRange = getSaturationRange(hue);\n\n    var sMin = saturationRange[0],\n        sMax = saturationRange[1];\n\n    switch (options.luminosity) {\n\n      case 'bright':\n        sMin = 55;\n        break;\n\n      case 'dark':\n        sMin = sMax - 10;\n        break;\n\n      case 'light':\n        sMax = 55;\n        break;\n   }\n\n    return randomWithin([sMin, sMax]);\n\n  }\n\n  function pickBrightness (H, S, options) {\n\n    var bMin = getMinimumBrightness(H, S),\n        bMax = 100;\n\n    switch (options.luminosity) {\n\n      case 'dark':\n        bMax = bMin + 20;\n        break;\n\n      case 'light':\n        bMin = (bMax + bMin)/2;\n        break;\n\n      case 'random':\n        bMin = 0;\n        bMax = 100;\n        break;\n    }\n\n    return randomWithin([bMin, bMax]);\n  }\n\n  function setFormat (hsv, options) {\n\n    switch (options.format) {\n\n      case 'hsvArray':\n        return hsv;\n\n      case 'hslArray':\n        return HSVtoHSL(hsv);\n\n      case 'hsl':\n        var hsl = HSVtoHSL(hsv);\n        return 'hsl('+hsl[0]+', '+hsl[1]+'%, '+hsl[2]+'%)';\n\n      case 'hsla':\n        var hslColor = HSVtoHSL(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'hsla('+hslColor[0]+', '+hslColor[1]+'%, '+hslColor[2]+'%, ' + alpha + ')';\n\n      case 'rgbArray':\n        return HSVtoRGB(hsv);\n\n      case 'rgb':\n        var rgb = HSVtoRGB(hsv);\n        return 'rgb(' + rgb.join(', ') + ')';\n\n      case 'rgba':\n        var rgbColor = HSVtoRGB(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'rgba(' + rgbColor.join(', ') + ', ' + alpha + ')';\n\n      default:\n        return HSVtoHex(hsv);\n    }\n\n  }\n\n  function getMinimumBrightness(H, S) {\n\n    var lowerBounds = getColorInfo(H).lowerBounds;\n\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n\n      var s1 = lowerBounds[i][0],\n          v1 = lowerBounds[i][1];\n\n      var s2 = lowerBounds[i+1][0],\n          v2 = lowerBounds[i+1][1];\n\n      if (S >= s1 && S <= s2) {\n\n         var m = (v2 - v1)/(s2 - s1),\n             b = v1 - m*s1;\n\n         return m*S + b;\n      }\n\n    }\n\n    return 0;\n  }\n\n  function getHueRange (colorInput) {\n\n    if (typeof parseInt(colorInput) === 'number') {\n\n      var number = parseInt(colorInput);\n\n      if (number < 360 && number > 0) {\n        return [number, number];\n      }\n\n    }\n\n    if (typeof colorInput === 'string') {\n\n      if (colorDictionary[colorInput]) {\n        var color = colorDictionary[colorInput];\n        if (color.hueRange) {return color.hueRange;}\n      } else if (colorInput.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorInput)[0];\n        return [ hue, hue ];\n      }\n    }\n\n    return [0,360];\n\n  }\n\n  function getSaturationRange (hue) {\n    return getColorInfo(hue).saturationRange;\n  }\n\n  function getColorInfo (hue) {\n\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n      hue-= 360;\n    }\n\n    for (var colorName in colorDictionary) {\n       var color = colorDictionary[colorName];\n       if (color.hueRange &&\n           hue >= color.hueRange[0] &&\n           hue <= color.hueRange[1]) {\n          return colorDictionary[colorName];\n       }\n    } return 'Color not found';\n  }\n\n  function randomWithin (range) {\n    if (seed === null) {\n      //generate random evenly destinct number from : https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/\n      var golden_ratio = 0.618033988749895\n      var r=Math.random()\n      r += golden_ratio\n      r %= 1\n      return Math.floor(range[0] + r*(range[1] + 1 - range[0]));\n    } else {\n      //Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n      var max = range[1] || 1;\n      var min = range[0] || 0;\n      seed = (seed * 9301 + 49297) % 233280;\n      var rnd = seed / 233280.0;\n      return Math.floor(min + rnd * (max - min));\n}\n  }\n\n  function HSVtoHex (hsv){\n\n    var rgb = HSVtoRGB(hsv);\n\n    function componentToHex(c) {\n        var hex = c.toString(16);\n        return hex.length == 1 ? '0' + hex : hex;\n    }\n\n    var hex = '#' + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n\n    return hex;\n\n  }\n\n  function defineColor (name, hueRange, lowerBounds) {\n\n    var sMin = lowerBounds[0][0],\n        sMax = lowerBounds[lowerBounds.length - 1][0],\n\n        bMin = lowerBounds[lowerBounds.length - 1][1],\n        bMax = lowerBounds[0][1];\n\n    colorDictionary[name] = {\n      hueRange: hueRange,\n      lowerBounds: lowerBounds,\n      saturationRange: [sMin, sMax],\n      brightnessRange: [bMin, bMax]\n    };\n\n  }\n\n  function loadColorBounds () {\n\n    defineColor(\n      'monochrome',\n      null,\n      [[0,0],[100,0]]\n    );\n\n    defineColor(\n      'red',\n      [-26,18],\n      [[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]\n    );\n\n    defineColor(\n      'orange',\n      [18,46],\n      [[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]\n    );\n\n    defineColor(\n      'yellow',\n      [46,62],\n      [[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]\n    );\n\n    defineColor(\n      'green',\n      [62,178],\n      [[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]\n    );\n\n    defineColor(\n      'blue',\n      [178, 257],\n      [[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]\n    );\n\n    defineColor(\n      'purple',\n      [257, 282],\n      [[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]\n    );\n\n    defineColor(\n      'pink',\n      [282, 334],\n      [[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]\n    );\n\n  }\n\n  function HSVtoRGB (hsv) {\n\n    // this doesn't work for the values of 0 and 360\n    // here's the hacky fix\n    var h = hsv[0];\n    if (h === 0) {h = 1;}\n    if (h === 360) {h = 359;}\n\n    // Rebase the h,s,v values\n    h = h/360;\n    var s = hsv[1]/100,\n        v = hsv[2]/100;\n\n    var h_i = Math.floor(h*6),\n      f = h * 6 - h_i,\n      p = v * (1 - s),\n      q = v * (1 - f*s),\n      t = v * (1 - (1 - f)*s),\n      r = 256,\n      g = 256,\n      b = 256;\n\n    switch(h_i) {\n      case 0: r = v; g = t; b = p;  break;\n      case 1: r = q; g = v; b = p;  break;\n      case 2: r = p; g = v; b = t;  break;\n      case 3: r = p; g = q; b = v;  break;\n      case 4: r = t; g = p; b = v;  break;\n      case 5: r = v; g = p; b = q;  break;\n    }\n\n    var result = [Math.floor(r*255), Math.floor(g*255), Math.floor(b*255)];\n    return result;\n  }\n\n  function HexToHSB (hex) {\n    hex = hex.replace(/^#/, '');\n    hex = hex.length === 3 ? hex.replace(/(.)/g, '$1$1') : hex;\n\n    var red = parseInt(hex.substr(0, 2), 16) / 255,\n          green = parseInt(hex.substr(2, 2), 16) / 255,\n          blue = parseInt(hex.substr(4, 2), 16) / 255;\n\n    var cMax = Math.max(red, green, blue),\n          delta = cMax - Math.min(red, green, blue),\n          saturation = cMax ? (delta / cMax) : 0;\n\n    switch (cMax) {\n      case red: return [ 60 * (((green - blue) / delta) % 6) || 0, saturation, cMax ];\n      case green: return [ 60 * (((blue - red) / delta) + 2) || 0, saturation, cMax ];\n      case blue: return [ 60 * (((red - green) / delta) + 4) || 0, saturation, cMax ];\n    }\n  }\n\n  function HSVtoHSL (hsv) {\n    var h = hsv[0],\n      s = hsv[1]/100,\n      v = hsv[2]/100,\n      k = (2-s)*v;\n\n    return [\n      h,\n      Math.round(s*v / (k<1 ? k : 2-k) * 10000) / 100,\n      k/2 * 100\n    ];\n  }\n\n  function stringToInteger (string) {\n    var total = 0\n    for (var i = 0; i !== string.length; i++) {\n      if (total >= Number.MAX_SAFE_INTEGER) break;\n      total += string.charCodeAt(i)\n    }\n    return total\n  }\n\n  // get The range of given hue when options.count!=0\n  function getRealHueRange(colorHue)\n  { if (!isNaN(colorHue)) {\n    var number = parseInt(colorHue);\n\n    if (number < 360 && number > 0) {\n      return getColorInfo(colorHue).hueRange\n    }\n  }\n    else if (typeof colorHue === 'string') {\n\n      if (colorDictionary[colorHue]) {\n        var color = colorDictionary[colorHue];\n\n        if (color.hueRange) {\n          return color.hueRange\n       }\n    } else if (colorHue.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorHue)[0]\n        return getColorInfo(hue).hueRange\n    }\n  }\n\n    return [0,360]\n}\n  return randomColor;\n}));\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import {createTextMask} from \"./text-mask\";\nimport {applyMask} from './apply-mask'\nimport WordCloud from \"./wordcloud2\";\nimport randomColor from 'randomcolor';\nimport throttle from 'lodash/throttle'\nimport './style.css'\nimport {observeResize} from \"./observe-resize\";\n\n/**\n *\n * @param {Array<{ word: string, weight: number }>} list\n * @param {HTMLElement} container style container\n */\nexport function start(list, {container}) {\n  const htmlCanvas = document.createElement('div')\n  htmlCanvas.style.cssText = `position: absolute; left: 0;top: 0; width: 100%; height: 100%; font-size-adjust: none; user-select: none;`\n  container.insertBefore(htmlCanvas, container.childNodes.item(0))\n\n  const retry = () => {\n    const canvas = document.createElement('canvas')\n\n    htmlCanvas.innerHTML = ''\n    htmlCanvas.classList.remove('animated', 'zoomOut')\n\n    const {fontFamily, fontSize, fontWeight, width, height, lineHeight} = getComputedStyle(container)\n\n    canvas.width = parseInt(width)\n    canvas.height = parseInt(height)\n\n    let seed = 0\n\n    const maskCanvas = createTextMask(container.textContent.trim(), {\n      fontSize: parseInt(fontSize),\n      fontWeight: parseInt(fontWeight) || fontWeight,\n      fontFamily,\n      width: parseInt(width),\n      height: parseInt(height),\n      lineHeight: parseInt(lineHeight),\n    })\n\n    applyMask(canvas, maskCanvas)\n\n    // Always manually clean up the html output\n    htmlCanvas.innerHTML = '';\n    htmlCanvas.style.backgroundColor = '#fff'\n\n\n    const wc = new WordCloud([canvas, htmlCanvas], {\n      fontSize: parseInt(fontSize),\n      fontWeight: parseInt(fontWeight) || fontWeight,\n      fontFamily,\n      gridSize: 8,\n      wait: 0,\n      list: list,\n      drawMask: false,\n      maskGapWidth: 16,\n      rotateRatio: 0,\n      shuffle: false,\n      clearCanvas: false,\n      createElement: item => {\n        const a = document.createElement('a')\n        a.classList.add('wordcloud-element', 'zoomIn')\n        a.href = 'https://github.com/' + item.key\n        a.target = '_blank'\n        return a\n      },\n      weightFactor: n => {\n        return (4 + (parseInt(fontSize) - 4) * 0.618 * n)\n      },\n      color: (word, weight, fontSize, distance, theta) => {\n        return randomColor({\n          seed: seed++,\n          luminosity: 'dark',\n          format: 'rgba',\n          alpha: 0.1 + Math.sqrt(weight) * 0.4\n        });\n      }\n    });\n    wc.start()\n\n    return () => {\n      wc.stop()\n    }\n  }\n  let destroy = retry()\n  const fadeWords = throttle(() => {\n    destroy()\n    htmlCanvas.classList.add('animated', 'zoomOut')\n  }, 1000, {trailing: false, leading: true})\n  const showWords = throttle(() => {\n    setTimeout(() => {\n      destroy = retry()\n    }, 0)\n  }, 1000, {trailing: true, leading: false})\n\n  const onResize = () => {\n    fadeWords()\n    showWords()\n  }\n\n  const removeObserver = observeResize(container, onResize)\n\n  return () => {\n    removeObserver()\n    destroy()\n    htmlCanvas.classList.add('animated', 'zoomOut')\n    htmlCanvas.ontransitionend = () => {\n      container.removeChild(htmlCanvas)\n    }\n  }\n}","// create a text mask\nexport function createTextMask(text, {fontWeight, fontSize, fontFamily, width, height, lineHeight}) {\n  const mask = document.createElement('canvas')\n  mask.width = width\n  mask.height = height\n\n  const ctx = mask.getContext('2d')\n\n  ctx.fillStyle = '#ffffffff'\n  ctx.textBaseline = 'middle'\n  ctx.textAlign = 'center'\n  ctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`\n  wrapText(ctx, text, width / 2, height / 2, width, lineHeight)\n\n  ctx.globalCompositeOperation = 'source-out'\n  ctx.fillStyle = '#ffffffff'\n  ctx.fillRect(0, 0, width, height)\n  ctx.restore()\n\n  window.m = mask\n  return mask\n}\n\n// must align center in both direction currently\nfunction wrapText(ctx, text, x, y, maxWidth, lineHeight) {\n  const lines = []\n  let words = text.split(' ');\n  let line = '';\n\n  for (let n = 0; n < words.length; n++) {\n    const testLine = line + words[n] + ' ';\n    const metrics = ctx.measureText(testLine);\n    const testWidth = metrics.width;\n    if (testWidth > maxWidth && n > 0) {\n      lines.push(line)\n      line = words[n] + ' ';\n    } else {\n      line = testLine;\n    }\n  }\n\n  if (line) {\n    lines.push(line)\n  }\n\n  y -= (lines.length - 1) * lineHeight / 2\n  for (let i = 0; i < lines.length; i++) {\n    ctx.fillText(lines[i].trim(), x, y);\n    y += lineHeight\n  }\n\n}","export function applyMask (canvas, maskCanvas) {\n  /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n  let bctx = document.createElement('canvas').getContext('2d');\n\n  bctx.fillStyle = '#fff';\n  bctx.fillRect(0, 0, 1, 1);\n  let bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n  let maskCanvasScaled =\n    document.createElement('canvas');\n  maskCanvasScaled.width = canvas.width;\n  maskCanvasScaled.height = canvas.height;\n  let ctx = maskCanvasScaled.getContext('2d');\n\n  ctx.drawImage(maskCanvas,\n    0, 0, maskCanvas.width, maskCanvas.height,\n    0, 0, maskCanvasScaled.width, maskCanvasScaled.height);\n\n  let imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n  let newImageData = ctx.createImageData(imageData);\n  for (let i = 0; i < imageData.data.length; i += 4) {\n    if (imageData.data[i + 3] > 128) {\n      newImageData.data[i] = bgPixel[0];\n      newImageData.data[i + 1] = bgPixel[1];\n      newImageData.data[i + 2] = bgPixel[2];\n      newImageData.data[i + 3] = bgPixel[3];\n    } else {\n      // This color must not be the same w/ the bgPixel.\n      newImageData.data[i] = bgPixel[0];\n      newImageData.data[i + 1] = bgPixel[1];\n      newImageData.data[i + 2] = bgPixel[2];\n      newImageData.data[i + 3] = bgPixel[3] ? (bgPixel[3] - 1) : 0;\n    }\n  }\n\n  ctx.putImageData(newImageData, 0, 0);\n\n  ctx = canvas.getContext('2d');\n  ctx.drawImage(maskCanvasScaled, 0, 0);\n\n  maskCanvasScaled = ctx = imageData = newImageData = bctx = bgPixel = undefined;\n}","/**\n *\n * @param el {HTMLElement}\n * @param cb {function}\n * @return {(function(): void)}\n */\nexport function observeResize(el, cb) {\n  if (typeof window === 'undefined') {\n    return () => {}\n  }\n\n  const ctx = {\n    cb\n  }\n\n  if (window.ResizeObserver) {\n    const ro = new ResizeObserver(() => {\n      ctx.cb()\n    })\n    ro.observe(el)\n\n    return () => {\n      ro.unobserve(el)\n      delete ctx.cb\n    }\n  } else {\n    let { width, height } = el.getClientRects().item(0)\n\n    const callback = () => {\n      let { width: newWidth, height: newHeight } = el.getClientRects().item(0)\n\n      // only update if changed\n      if (newWidth !== width || newHeight !== height) {\n        ctx.cb()\n        width = newWidth\n        height = newHeight\n      }\n    }\n\n    window.addEventListener('resize', callback, { passive: true })\n\n    return () => {\n      window.removeEventListener('resize', callback)\n      delete ctx.cb\n    }\n  }\n}"],"names":["WordCloud","elements","options","timer","window","isSupported","timerId","Math","floor","random","Date","now","Array","isArray","forEach","el","i","document","getElementById","Error","tagName","appendChild","settings","list","fontFamily","fontWeight","color","minSize","weightFactor","clearCanvas","backgroundColor","gridSize","drawOutOfBound","shrinkToFit","origin","drawMask","maskColor","maskGapWidth","wait","abortThreshold","abort","shape","ellipticity","createElement","item","key","factor","pt","theta","min","abs","cos","sin","max","grid","ngx","ngy","center","maxRadius","escapeTime","getTextColor","getTextFontWeight","g","maskRectWidth","pointsAtRadius","getPointsAtRadius","radius","T","t","points","push","rx","PI","exceedTime","getTime","reusedFcanvas","reusedFctx","getContext","willReadFrequently","getTextInfo","word","weight","fontSize","fcanvas","fctx","debug","style","marginLeft","setTransform","clearRect","width","height","getCanvasAndCtx","font","toString","fw","measureText","fh","boxWidth","boxHeight","fillTextOffsetX","fillTextOffsetY","cgw","ceil","cgh","scale","translate","fillStyle","textBaseline","fillText","imageData","getImageData","data","gy","x","y","occupied","gx","bounds","singleGridLoop","pos","gw","gh","fillTextWidth","fillTextHeight","fillGridAt","fillRect","putWord","attributes","info","r","tryToPutWordAtPoint","gxy","length","px","py","canFitText","distance","span","transformRules","size","transformRule","styleRules","left","top","transform","textContent","css","Object","entries","map","name","value","join","cssText","drawText","ctx","save","restore","updateGrid","some","sendEvent","type","cancelable","details","event","CustomEvent","detail","dispatchEvent","this","start","loopingFunction","stoppingFunction","canvas","rect","getBoundingClientRect","sqrt","position","bctx","bgPixel","undefined","setTimeout","clearTimeout","setImmediate","clearImmediate","removeEventListener","listener","anotherWordCloudStart","addEventListener","loop","drawn","canceled","stop","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","message","evt","substr","stopImmediatePropagation","id","parseInt","callback","fn","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","defineProperty","get","prototype","root","factory","randomColor","seed","colorDictionary","loadColorBounds","colorRanges","stringToInteger","TypeError","H","S","count","totalColors","colors","setFormat","pickHue","pickSaturation","pickBrightness","hue","randomWithin","hueRange","getRealHueRange","step","j","getHueRange","luminosity","saturationRange","getSaturationRange","sMin","sMax","bMin","getMinimumBrightness","bMax","hsv","format","HSVtoHSL","hsl","hslColor","alpha","HSVtoRGB","rgbColor","HSVtoHex","lowerBounds","getColorInfo","s1","v1","s2","v2","m","colorInput","number","match","HexToHSB","colorName","range","golden_ratio","rnd","rgb","componentToHex","c","hex","defineColor","brightnessRange","h","s","v","h_i","f","p","q","b","replace","red","green","blue","cMax","delta","saturation","k","round","string","total","Number","MAX_SAFE_INTEGER","charCodeAt","colorHue","isNaN","module","exports","isObject_1","freeGlobal","global","freeSelf","self","Function","now_1","reWhitespace","trimmedEndIndex","index","test","charAt","reTrimStart","_baseTrim","slice","_Symbol","Symbol","require$$0","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","call","tag","unmasked","e","result","getRawTag","require$$1","objectToString","baseGetTag","isObjectLike","baseTrim","isObject","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","isBinary","nativeMax","nativeMin","debounce","func","lastArgs","lastThis","maxWait","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","apply","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","cancel","flush","throttle_1","container","htmlCanvas","insertBefore","childNodes","retry","innerHTML","classList","remove","lineHeight","getComputedStyle","maskCanvas","text","mask","textAlign","maxWidth","lines","words","split","line","n","testLine","trim","wrapText","globalCompositeOperation","createTextMask","maskCanvasScaled","drawImage","newImageData","createImageData","putImageData","applyMask","wc","rotateRatio","shuffle","a","add","href","target","destroy","fadeWords","throttle","showWords","removeObserver","cb","ResizeObserver","ro","observe","unobserve","getClientRects","newWidth","newHeight","passive","observeResize","ontransitionend","removeChild"],"mappings":"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"}